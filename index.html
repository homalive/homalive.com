<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>custom homes powered by AI&ensp;•&ensp;Homealive</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,500,900" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="background"></div>
    <div class="background-loaded background-transparent"></div>
    <div class="background-overlay"></div>
    <div class="background-gradient"></div>
    <script>
      (() => {
        const loadedBackground = document.querySelector('.background-loaded');
        const finish = () => {
          loadedBackground.classList.remove('background-transparent');
        };
        const loader = new Image();
        Promise.all([
          new Promise(resolve => loader.addEventListener('load', resolve)),
          new Promise(resolve => setTimeout(resolve, 500))
        ]).then(finish);
        loader.src = 'background.jpg';
      })();
    </script>

    <div class="content">
      <div class="logo">
        <img src="homalive-logo.svg" alt="Homalive" width="143.6" height="41.4" />
        is almost there.
      </div>

      <h1>custom homes<br>without the big price tag.</h1>

      <p>Building a custom home always required big money spent on design and construction. But thanks to AI technology, that’s no longer necessary. Homalive helps you build a home at a fraction of that cost, beautifully tailored to your needs.</p>

      <p>We’re soon launching.<br/>Be the first to know.</p>

      <div><button>keep me in the loop</button></div>
    </div>

    <script>
      (() => {
        const backgroundGradient = document.querySelector('.background-gradient');
        let currentHueBottomLeft = 0;
        let currentHueTopRight = 0;
        const clampPosition = (position) => Math.min(2.2, Math.max(-2.2, position));
        const commitMovement = ({x, y}) => {
          const previousHueBottomLeft = currentHueBottomLeft;
          currentHueBottomLeft = clampPosition(previousHueBottomLeft - x);

          const previousTranslateY = currentHueTopRight;
          currentHueTopRight = clampPosition(previousTranslateY - y);

          backgroundGradient.style.background = `
            linear-gradient(
              to top right,
              hsla(${175 + currentHueBottomLeft * 180 / 2.2}, 100%, 50%, 0.4),
              hsla(${61 + currentHueTopRight * 180 / 2.2}, 100%, 50%, 0.8)
            )
          `;
        }

        const mouseMoveRatio = 2;
        window.addEventListener('mousemove', (event) => {
          commitMovement({
            x: mouseMoveRatio * event.movementX / document.documentElement.clientWidth,
            y: mouseMoveRatio * event.movementY / document.documentElement.clientHeight,
          });
        });

        let currentBeta = null;
        let currentGamma = null;
        const rotationRatio = 0.1;
        const movementByAngle = (previous, current) => (
          rotationRatio * (previous - current) % 360
        );
        window.addEventListener('deviceorientation', (event) => {
          const previousBeta = currentBeta;
          const previousGamma = currentGamma;
          currentBeta = event .beta;
          currentGamma = event.gamma;

          if (previousBeta == null || previousGamma == null) return;
          commitMovement({
            x: rotationRatio * (previousGamma - currentGamma),
            y: rotationRatio * (previousBeta - currentBeta),
          });
        });
      })();
    </script>
  </body>
</html>
